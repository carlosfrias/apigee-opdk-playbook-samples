---
- hosts: '{{ hosts }}'
  strategy: free
  vars_files:
  - ~/.apigee/credentials.yml
  roles:
  - opdk-setup-apigee-user
  - opdk-setup-os-limits

- hosts: '{{ hosts }}'
  strategy: free
  roles:
  - opdk-setup-openjdk

- hosts: '{{ hosts }}'
  strategy: free
  vars_files:
  - ~/.apigee/credentials.yml
  roles:
  - opdk-setup-bootstrap

- hosts: '{{ hosts }}'
  strategy: free
  roles:
  - opdk-setup-silent-installation-config
  - opdk-setup-component-installer

- hosts: '{{ hosts }}'
  serial: 1
  roles:
  - { role: opdk-setup-component, profile: '{{ component_profile }}' }


